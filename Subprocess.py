import  os 
import subprocess
import sys
import glob

# Location of the PDF files  folder to be scanned
file_location = '/home/codebind/Downloads/folder/test3/Program/new/*'
# Getting the PDF files paths  
filenames = glob.glob(file_location)
result = ''
pdf_file = ''
#Printing the system information for user 
print()
print('PDF file Malware Detector')
print()
print("Scanning  PDF files to extract features: ")
print("Scanning ..................")
for file in filenames:
    filename = os.path.basename(file)
    if '.py' in filename or '.ini' in filename or  'plugin_list' in filename or 'txt' in filename:
        pdf_file = ''
    else:
        # getting the PDF file names and stored in a single variable     
        # Running pdf tool on the PDF files  to extract pdf features
        command = "python3 pdfid.py " + filename
        process = subprocess.Popen(command,stdout=subprocess.PIPE,shell=True)
        (process_output,error) = process.communicate()
        output = process_output.decode()
        result = result + output
# Writting and storing the extracted PDF features to output.txt file 
path = "output.txt"
file= open(path,"w")
file.write(result)
file.close()
print("Features extraction completed")
print("Classifying files................")
print()







